{"openapi":"3.1.0","info":{"title":"WebSlayer API","description":"Web scraping and data extraction API","version":"1.0.0"},"paths":{"/webslayer/schema/":{"get":{"tags":["Schemas"],"summary":"Get Schemas","description":"Gets all the existing schema names from the db","operationId":"get_schemas_webslayer_schema__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"}}},"post":{"tags":["Schemas"],"summary":"Register Schema","description":"Adds a new schema definition or updates an existing one","operationId":"register_schema_webslayer_schema__post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SchemaDefinition-Input"},"examples":{"philosophers_schema":{"summary":"Philosophers Schema Example","description":"A sample schema for storing philosopher information","value":{"name":"philosophers_schema","fields":[{"name":"name","field_type":"string","description":"Name of the philosopher","required":true},{"name":"description","field_type":"string","description":"Description of the philosopher","required":true},{"name":"area_of_expertise","field_type":"string","description":"Specific area of expertise in philosophy","required":true}]}},"events_schema":{"summary":"Events Schema Example","description":"A sample schema for storing event information","value":{"name":"events_schema","fields":[{"name":"event_name","field_type":"string","description":"Name of the event","required":true},{"name":"event_date","field_type":"string","description":"Date of the event","required":false},{"name":"description","field_type":"string","description":"Description of the event","required":true},{"name":"event_tags","field_type":"string","description":"Tags that can be assigned to this event. For example music, sports, festival etc.","required":true}]}}}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SchemaDefinition-Output"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/webslayer/schema/{schema_name}":{"get":{"tags":["Schemas"],"summary":"Get Schema","description":"Get a registered schema definition","operationId":"get_schema_webslayer_schema__schema_name__get","parameters":[{"name":"schema_name","in":"path","required":true,"schema":{"type":"string","title":"Schema Name"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Schemas"],"summary":"Delete Schema","description":"Delete a registered schema definition","operationId":"delete_schema_webslayer_schema__schema_name__delete","parameters":[{"name":"schema_name","in":"path","required":true,"schema":{"type":"string","title":"Schema Name"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/webslayer/scrape/start":{"post":{"tags":["Scrape"],"summary":"Start Job","description":"Start a new scraping job","operationId":"start_job_webslayer_scrape_start_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/JobRequest"},"example":{"urls":["https://example.com"],"schema_name":"schema_name","return_schema_list":true}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/webslayer/scrape/{job_id}":{"get":{"tags":["Scrape"],"summary":"Get Job Status","description":"Get the status and result of a job","operationId":"get_job_status_webslayer_scrape__job_id__get","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/webslayer/reports/":{"get":{"tags":["Reports"],"summary":"List Reports","description":"Get list of reports with optional filtering","operationId":"list_reports_webslayer_reports__get","parameters":[{"name":"schema_name","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Schema Name"}},{"name":"start_time","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Start Time"}},{"name":"end_time","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"End Time"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":10,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ReportMetadata"},"title":"Response List Reports Webslayer Reports  Get"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/webslayer/reports/{name}":{"get":{"tags":["Reports"],"summary":"Get Report","description":"Get a specific report by name","operationId":"get_report_webslayer_reports__name__get","parameters":[{"name":"name","in":"path","required":true,"schema":{"type":"string","title":"Name"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Report"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Reports"],"summary":"Delete Report","description":"Delete a specific report","operationId":"delete_report_webslayer_reports__name__delete","parameters":[{"name":"name","in":"path","required":true,"schema":{"type":"string","title":"Name"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/webslayer/reports/file/{name}":{"get":{"tags":["Reports"],"summary":"Download Report","description":"Download report as a JSON file","operationId":"download_report_webslayer_reports_file__name__get","parameters":[{"name":"name","in":"path","required":true,"schema":{"type":"string","title":"Name"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"CrawlConfig":{"properties":{"enable_crawling":{"type":"boolean","title":"Enable Crawling","default":false},"max_depth":{"type":"integer","maximum":10,"minimum":1,"title":"Max Depth","default":2},"max_urls":{"type":"integer","maximum":1000,"minimum":1,"title":"Max Urls","default":3},"enable_chunking":{"type":"boolean","title":"Enable Chunking","default":true},"chunk_size":{"type":"integer","maximum":1000000,"minimum":1000,"title":"Chunk Size","default":5000},"chunk_overlap":{"type":"integer","maximum":100000,"minimum":0,"title":"Chunk Overlap","default":100}},"type":"object","title":"CrawlConfig"},"FieldTypePydantic":{"type":"string","enum":["string","integer","float","boolean","list","date","schema"],"title":"FieldTypePydantic"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"JobRequest":{"properties":{"urls":{"items":{"type":"string"},"type":"array","title":"Urls"},"schema_name":{"type":"string","title":"Schema Name"},"return_schema_list":{"type":"boolean","title":"Return Schema List","description":"If True, returns list of type Schema, else a single Schema","default":false},"llm_model_type":{"$ref":"#/components/schemas/ModelType","description":"Type of model to use for processing (Ollama, Claude, or OpenAI)","default":"Ollama"},"llm_model_name":{"type":"string","title":"Llm Model Name","description":"Name of the LLM model to use for processing.","default":"llama3.1:8b-instruct-q5_0"},"crawl_config":{"anyOf":[{"$ref":"#/components/schemas/CrawlConfig"},{"type":"null"}]},"scraper_config":{"anyOf":[{"$ref":"#/components/schemas/ScraperConfig"},{"type":"null"}]}},"type":"object","required":["urls","schema_name"],"title":"JobRequest"},"ModelType":{"type":"string","enum":["Ollama","Claude","OpenAI"],"title":"ModelType"},"Report":{"properties":{"name":{"type":"string","title":"Name","description":"Unique name of the report"},"schema_name":{"type":"string","title":"Schema Name","description":"Name of the related schema"},"timestamp":{"type":"string","format":"date-time","title":"Timestamp"},"content":{"type":"object","minProperties":1,"title":"Content"}},"type":"object","required":["name","schema_name","content"],"title":"Report"},"ReportMetadata":{"properties":{"name":{"type":"string","title":"Name","description":"Unique name of the report"},"schema_name":{"type":"string","title":"Schema Name","description":"Name of the related schema"},"timestamp":{"type":"string","format":"date-time","title":"Timestamp"}},"type":"object","required":["name","schema_name"],"title":"ReportMetadata"},"SchemaDefinition-Input":{"properties":{"name":{"type":"string","title":"Name"},"fields":{"items":{"$ref":"#/components/schemas/SchemaField"},"type":"array","title":"Fields"}},"type":"object","required":["name","fields"],"title":"SchemaDefinition"},"SchemaDefinition-Output":{"properties":{"name":{"type":"string","title":"Name"},"fields":{"items":{"$ref":"#/components/schemas/SchemaField"},"type":"array","title":"Fields"}},"type":"object","required":["name","fields"],"title":"SchemaDefinition"},"SchemaField":{"properties":{"name":{"type":"string","title":"Name"},"field_type":{"$ref":"#/components/schemas/FieldTypePydantic"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"required":{"type":"boolean","title":"Required","default":true},"list_item_type":{"anyOf":[{"$ref":"#/components/schemas/FieldTypePydantic"},{"type":"null"}]},"default_value":{"anyOf":[{},{"type":"null"}],"title":"Default Value"}},"type":"object","required":["name","field_type"],"title":"SchemaField"},"ScraperConfig":{"properties":{"max_hallucination_checks":{"type":"integer","maximum":5,"minimum":0,"title":"Max Hallucination Checks","default":2},"max_quality_checks":{"type":"integer","maximum":5,"minimum":0,"title":"Max Quality Checks","default":2},"enable_hallucination_check":{"type":"boolean","title":"Enable Hallucination Check","description":"Whether to enable hallucination checking","default":true},"enable_quality_check":{"type":"boolean","title":"Enable Quality Check","description":"Whether to enable quality checking","default":true}},"type":"object","title":"ScraperConfig"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}